/**
 * WolfLoader Styles - Premium Loading Experience
 * ===============================================
 *
 * Progressive Enhancement Layers:
 * - Layer 1: Instant (black + typography)
 * - Layer 2: Video fallback (~200ms)
 * - Layer 3: Unicorn WebGL premium (~500-1000ms)
 *
 * Wolf Cyan: #00f6e0
 *
 * @package @yp/ui
 */

/* ==========================================================================
   Main Container
   ========================================================================== */
.wolf-loader {
  position: fixed;
  inset: 0;
  z-index: 99999;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: #000000;
  opacity: 0;
  transition: opacity 0.3s ease-out;
  isolation: isolate;
}

.wolf-loader.entered {
  opacity: 1;
}

/* Exit animation */
.wolf-loader.fade-out {
  opacity: 0;
  transform: scale(1.02);
  filter: blur(8px);
  transition:
    opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1),
    transform 1.2s cubic-bezier(0.4, 0, 0.2, 1),
    filter 1s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
}

/* ==========================================================================
   Layer 3: Unicorn Studio WebGL (Premium)
   ========================================================================== */
.wolf-loader-unicorn {
  position: absolute;
  inset: 0;
  width: 30vw;
  height: 30vh;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.5s ease-out;
  pointer-events: none;
}

/* Ensure Unicorn canvas fills container */
.wolf-loader-unicorn canvas {
  width: 30vw !important;
  height: 30vh !important;
  object-fit: contain;
}

.wolf-loader-unicorn.active {
  opacity: 1;
}

/* Unicorn canvas styling - rendered inside data-us-project div */
.wolf-loader-unicorn canvas {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

/* ==========================================================================
   Layer 2: Video Container (Fallback)
   ========================================================================== */
.wolf-loader-video-container {
  position: absolute;
  width: 300px;
  height: 300px;
  display: flex;
  align-items: center;
  justify-content: center;
  filter: drop-shadow(0 0 40px rgba(0, 246, 224, 0.15));
  transition:
    filter 0.5s ease-out,
    transform 0.8s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.5s ease-out;
}

.wolf-loader-video-container.complete {
  filter: drop-shadow(0 0 60px rgba(0, 246, 224, 0.4));
}

.wolf-loader-video-container.hidden {
  opacity: 0;
  pointer-events: none;
}

.wolf-loader.fade-out .wolf-loader-video-container {
  transform: scale(1.05);
}

@media (min-width: 768px) {
  .wolf-loader-video-container {
    width: 500px;
    height: 500px;
  }
}

.wolf-loader-video {
  width: 100%;
  height: 100%;
  object-fit: contain;
  mix-blend-mode: screen;
  opacity: 0;
  transition: opacity 0.5s ease-out;
}

.wolf-loader-video.loaded {
  opacity: 1;
}

/* ==========================================================================
   Footer: Typography + Progress
   ========================================================================== */
.wolf-loader-footer {
  position: absolute;
  bottom: 20%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  transition:
    opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.wolf-loader-footer.exit {
  opacity: 0;
  transform: translateY(20px);
}

/* Status Line */
.wolf-loader-status {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

/* ==========================================================================
   Blinking Dot - Live Indicator
   ========================================================================== */
.wolf-loader-dot {
  position: relative;
  width: 6px;
  height: 6px;
}

.wolf-loader-dot-ping {
  position: absolute;
  inset: 0;
  border-radius: 9999px;
  background: #00f6e0;
  opacity: 0.75;
  animation: wolf-loader-ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
}

.wolf-loader-dot-core {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: 9999px;
  background: #00f6e0;
  transition: box-shadow 0.3s ease-out;
}

.wolf-loader-dot.complete .wolf-loader-dot-core {
  box-shadow: 0 0 12px #00f6e0, 0 0 24px rgba(0, 246, 224, 0.5);
}

.wolf-loader-dot.complete .wolf-loader-dot-ping {
  animation: none;
  opacity: 0;
}

@keyframes wolf-loader-ping {
  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
}

/* ==========================================================================
   Typography - "Silent Luxury" Specs
   ==========================================================================
   Font: SF Mono / Roboto Mono / JetBrains Mono
   Size: 11px (military spec)
   Case: UPPERCASE
   Tracking: 0.2em (expensive feel)
   Color: #666666 (matte grey)
   ========================================================================== */
.wolf-loader-text {
  font-family: 'SF Mono', 'Roboto Mono', 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: #666666;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: color 0.3s ease-out, text-shadow 0.3s ease-out;
}

.wolf-loader-text.complete {
  color: #00f6e0;
  text-shadow: 0 0 20px rgba(0, 246, 224, 0.5);
}

/* ==========================================================================
   Progress Bar - Ultra Thin with Glow
   ========================================================================== */
.wolf-loader-progress-track {
  width: 120px;
  height: 1px;
  background: #1a1a1a;
  overflow: visible;
  margin-top: 0.5rem;
  border-radius: 1px;
  transition: box-shadow 0.3s ease-out;
}

.wolf-loader-progress-track.complete {
  box-shadow: 0 0 8px rgba(0, 246, 224, 0.3);
}

.wolf-loader-progress-bar {
  width: 100%;
  height: 100%;
  background: #00f6e0;
  transform-origin: left;
  transition: transform 0.15s ease-out, box-shadow 0.3s ease-out;
  border-radius: 1px;
}

.wolf-loader-progress-bar.complete {
  box-shadow: 0 0 12px #00f6e0, 0 0 24px rgba(0, 246, 224, 0.4);
  animation: wolf-loader-progress-pulse 1s ease-in-out infinite;
}

@keyframes wolf-loader-progress-pulse {
  0%, 100% {
    box-shadow: 0 0 12px #00f6e0, 0 0 24px rgba(0, 246, 224, 0.4);
  }
  50% {
    box-shadow: 0 0 20px #00f6e0, 0 0 40px rgba(0, 246, 224, 0.6);
  }
}

/* ==========================================================================
   Reduced Motion - Accessibility
   ========================================================================== */
@media (prefers-reduced-motion: reduce) {
  .wolf-loader-dot-ping {
    animation: none;
    opacity: 0;
  }

  .wolf-loader,
  .wolf-loader-video,
  .wolf-loader-video-container,
  .wolf-loader-unicorn,
  .wolf-loader-footer {
    transition: none;
  }

  .wolf-loader.fade-out {
    filter: none;
    transform: none;
  }

  .wolf-loader-progress-bar.complete {
    animation: none;
  }
}
