import{f as $,a as H,c as oe}from"../chunks/iRdQ0xtj.js";import{y as fe,f as qe,l as ce,h as te,X as We,i as $e,g as r,_ as Ge,j as Xe,H as Ke,k as Me,o as ue,A as de,Y as Qe,a0 as Ze,a1 as Re,p as re,a2 as W,z as be,C as et,a3 as He,m as tt,a4 as at,a5 as rt,a6 as it,v as ze,x as Pe,a7 as pe,Z as st,a8 as lt,w as nt,a9 as ye,aa as ot,ab as Ue,q as dt,ac as vt,ad as ft,ae as ct,u as ut,r as pt,af as ht,J as xt,O as n,M as mt,K as u,P as he,Q as l,V as xe,T as se,U as Z,R as ee,s as J}from"../chunks/CapEeF5M.js";import{s as q}from"../chunks/BvqUIVqr.js";import{i as ae}from"../chunks/CqVPvQJw.js";import{r as je}from"../chunks/oWoCID4_.js";import{s as De}from"../chunks/CRBBPxwk.js";import{d as gt}from"../chunks/Bvma8HCH.js";import{g as Ne}from"../chunks/CS0qxZ5J.js";import{f as bt,D as ve}from"../chunks/C52gXIN9.js";function Fe(e,s){return s}function _t(e,s,i){for(var f=[],_=s.length,a,c=s.length,x=0;x<_;x++){let I=s[x];Pe(I,()=>{if(a){if(a.pending.delete(I),a.done.add(I),a.pending.size===0){var g=e.outrogroups;_e(ye(a.done)),g.delete(a),g.size===0&&(e.outrogroups=null)}}else c-=1},!1)}if(c===0){var o=f.length===0&&i!==null;if(o){var p=i,d=p.parentNode;lt(d),d.append(p),e.items.clear()}_e(s,!o)}else a={pending:new Set(s),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(a)}function _e(e,s=!0){for(var i=0;i<e.length;i++)nt(e[i],s)}var Oe;function Be(e,s,i,f,_,a=null){var c=e,x=new Map,o=(s&Ue)!==0;if(o){var p=e;c=te?ce(We(p)):p.appendChild(fe())}te&&$e();var d=null,I=Ge(()=>{var v=i();return ot(v)?v:v==null?[]:ye(v)}),g,k=!0;function N(){t.fallback=d,yt(t,g,c,s,f),d!==null&&(g.length===0?d.f&W?(d.f^=W,le(d,null,c)):ze(d):Pe(d,()=>{d=null}))}var G=qe(()=>{g=r(I);var v=g.length;let P=!1;if(te){var X=Xe(c)===Ke;X!==(v===0)&&(c=Me(),ce(c),ue(!1),P=!0)}for(var A=new Set,U=re,V=et(),C=0;C<v;C+=1){te&&de.nodeType===Qe&&de.data===Ze&&(c=de,P=!0,ue(!1));var Y=g[C],K=f(Y,C),T=k?null:x.get(K);T?(T.v&&Re(T.v,Y),T.i&&Re(T.i,C),V&&U.skipped_effects.delete(T.e)):(T=wt(x,k?c:Oe??(Oe=fe()),Y,K,C,_,s,i),k||(T.e.f|=W),x.set(K,T)),A.add(K)}if(v===0&&a&&!d&&(k?d=be(()=>a(c)):(d=be(()=>a(Oe??(Oe=fe()))),d.f|=W)),te&&v>0&&ce(Me()),!k)if(V){for(const[h,y]of x)A.has(h)||U.skipped_effects.add(y.e);U.oncommit(N),U.ondiscard(()=>{})}else N();P&&ue(!0),r(I)}),t={effect:G,items:x,outrogroups:null,fallback:d};k=!1,te&&(c=de)}function yt(e,s,i,f,_){var T,h,y,M,R,F,b,E,w;var a=(f&vt)!==0,c=s.length,x=e.items,o=e.effect.first,p,d=null,I,g=[],k=[],N,G,t,v;if(a)for(v=0;v<c;v+=1)N=s[v],G=_(N,v),t=x.get(G).e,t.f&W||((h=(T=t.nodes)==null?void 0:T.a)==null||h.measure(),(I??(I=new Set)).add(t));for(v=0;v<c;v+=1){if(N=s[v],G=_(N,v),t=x.get(G).e,e.outrogroups!==null)for(const m of e.outrogroups)m.pending.delete(t),m.done.delete(t);if(t.f&W)if(t.f^=W,t===o)le(t,null,i);else{var P=d?d.next:o;t===e.effect.last&&(e.effect.last=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),Q(e,d,t),Q(e,t,P),le(t,P,i),d=t,g=[],k=[],o=d.next;continue}if(t.f&pe&&(ze(t),a&&((M=(y=t.nodes)==null?void 0:y.a)==null||M.unfix(),(I??(I=new Set)).delete(t))),t!==o){if(p!==void 0&&p.has(t)){if(g.length<k.length){var X=k[0],A;d=X.prev;var U=g[0],V=g[g.length-1];for(A=0;A<g.length;A+=1)le(g[A],X,i);for(A=0;A<k.length;A+=1)p.delete(k[A]);Q(e,U.prev,V.next),Q(e,d,U),Q(e,V,X),o=X,d=V,v-=1,g=[],k=[]}else p.delete(t),le(t,o,i),Q(e,t.prev,t.next),Q(e,t,d===null?e.effect.first:d.next),Q(e,d,t),d=t;continue}for(g=[],k=[];o!==null&&o!==t;)(p??(p=new Set)).add(o),k.push(o),o=o.next;if(o===null)continue}t.f&W||g.push(t),d=t,o=t.next}if(e.outrogroups!==null){for(const m of e.outrogroups)m.pending.size===0&&(_e(ye(m.done)),(R=e.outrogroups)==null||R.delete(m));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||p!==void 0){var C=[];if(p!==void 0)for(t of p)t.f&pe||C.push(t);for(;o!==null;)!(o.f&pe)&&o!==e.fallback&&C.push(o),o=o.next;var Y=C.length;if(Y>0){var K=f&Ue&&c===0?i:null;if(a){for(v=0;v<Y;v+=1)(b=(F=C[v].nodes)==null?void 0:F.a)==null||b.measure();for(v=0;v<Y;v+=1)(w=(E=C[v].nodes)==null?void 0:E.a)==null||w.fix()}_t(e,C,K)}}a&&dt(()=>{var m,S;if(I!==void 0)for(t of I)(S=(m=t.nodes)==null?void 0:m.a)==null||S.apply()})}function wt(e,s,i,f,_,a,c,x){var o=c&at?c&rt?He(i):tt(i,!1,!1):null,p=c&it?He(_):null;return{v:o,i:p,e:be(()=>(a(s,o??i,p??_,x),()=>{e.delete(f)}))}}function le(e,s,i){if(e.nodes)for(var f=e.nodes.start,_=e.nodes.end,a=s&&!(s.f&W)?s.nodes.start:i;f!==null;){var c=st(f);if(a.before(f),f===_)return;f=c}}function Q(e,s,i){s===null?e.effect.first=i:s.next=i,i===null?e.effect.last=s:i.prev=s}function Le(e,s,i=s){var f=new WeakSet;ft(e,"input",async _=>{var a=_?e.defaultValue:e.value;if(a=me(e)?ge(a):a,i(a),re!==null&&f.add(re),await ct(),a!==(a=s())){var c=e.selectionStart,x=e.selectionEnd,o=e.value.length;if(e.value=a??"",x!==null){var p=e.value.length;c===x&&x===o&&p>o?(e.selectionStart=p,e.selectionEnd=p):(e.selectionStart=c,e.selectionEnd=Math.min(x,p))}}}),(te&&e.defaultValue!==e.value||ut(s)==null&&e.value)&&(i(me(e)?ge(e.value):e.value),re!==null&&f.add(re)),pt(()=>{var _=s();if(e===document.activeElement){var a=ht??re;if(f.has(a))return}me(e)&&_===ge(e.value)||e.type==="date"&&!_&&!e.value||_!==e.value&&(e.value=_??"")})}function me(e){var s=e.type;return s==="number"||s==="range"}function ge(e){return e===""?null:+e}var kt=$("<div></div>"),Et=$("<button> </button>"),St=$(`<div class="text-center mb-8"><h2 class="text-2xl font-bold mb-2">What's Your Height?</h2> <p class="text-white/60">We use this to calibrate the measurement</p></div> <div class="text-center mb-8"><div class="text-6xl font-bold text-yp-primary"> </div> <div class="text-white/50 mt-2"> </div></div> <div class="flex flex-wrap justify-center gap-2 mb-8"></div> <div class="space-y-6"><div><label class="block text-sm text-white/60 mb-2">Feet</label> <input type="range" min="4" max="7" step="1" class="w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer accent-yp-primary"/> <div class="flex justify-between text-xs text-white/40 mt-1"><span>4'</span> <span>5'</span> <span>6'</span> <span>7'</span></div></div> <div><label class="block text-sm text-white/60 mb-2">Inches</label> <input type="range" min="0" max="11" step="1" class="w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer accent-yp-primary"/> <div class="flex justify-between text-xs text-white/40 mt-1"><span>0"</span> <span>3"</span> <span>6"</span> <span>9"</span> <span>11"</span></div></div></div>`,1),Ct=$('<div class="text-center mb-6"><h2 class="text-2xl font-bold mb-2">Camera Setup</h2> <p class="text-white/60">Follow these steps for best accuracy</p></div> <div class="space-y-3 mb-4"><div class="flex items-start gap-3 p-3 bg-white/5 rounded-xl"><div class="w-8 h-8 rounded-full bg-yp-primary/20 flex items-center justify-center flex-shrink-0"><span class="text-yp-primary font-bold text-sm">1</span></div> <div><h3 class="font-semibold text-sm">Distance: 5-6 feet</h3> <p class="text-xs text-white/60"> </p></div></div> <div class="flex items-start gap-3 p-3 bg-white/5 rounded-xl"><div class="w-8 h-8 rounded-full bg-yp-primary/20 flex items-center justify-center flex-shrink-0"><span class="text-yp-primary font-bold text-sm">2</span></div> <div><h3 class="font-semibold text-sm">Camera Height: Hip Level</h3> <p class="text-xs text-white/60"> </p></div></div> <div class="flex items-start gap-3 p-3 bg-white/5 rounded-xl"><div class="w-8 h-8 rounded-full bg-yp-primary/20 flex items-center justify-center flex-shrink-0"><span class="text-yp-primary font-bold text-sm">3</span></div> <div><h3 class="font-semibold text-sm">Good Lighting</h3> <p class="text-xs text-white/60"> </p></div></div> <div class="flex items-start gap-3 p-3 bg-white/5 rounded-xl"><div class="w-8 h-8 rounded-full bg-yp-primary/20 flex items-center justify-center flex-shrink-0"><span class="text-yp-primary font-bold text-sm">4</span></div> <div><h3 class="font-semibold text-sm">Full Body Visible</h3> <p class="text-xs text-white/60"> </p></div></div></div> <div class="relative p-3 bg-white/5 rounded-xl"><div class="aspect-video bg-black/50 rounded-lg flex items-center justify-center relative overflow-hidden"><svg viewBox="0 0 200 100" class="w-full h-full"><line x1="0" y1="85" x2="200" y2="85" stroke="rgba(255,255,255,0.3)" stroke-width="1"></line><rect x="10" y="50" width="20" height="30" rx="3" fill="rgba(79, 70, 229, 0.6)"></rect><circle cx="20" cy="60" r="4" fill="rgba(255,255,255,0.8)"></circle><line x1="35" y1="65" x2="100" y2="65" stroke="rgba(255,255,255,0.5)" stroke-width="1" stroke-dasharray="4"></line><text x="67" y="60" fill="rgba(255,255,255,0.6)" font-size="8" text-anchor="middle">5-6 ft</text><circle cx="140" cy="30" r="8" fill="rgba(79, 70, 229, 0.8)"></circle><line x1="140" y1="38" x2="140" y2="65" stroke="rgba(79, 70, 229, 0.8)" stroke-width="3"></line><line x1="140" y1="45" x2="125" y2="55" stroke="rgba(79, 70, 229, 0.8)" stroke-width="3"></line><line x1="140" y1="45" x2="155" y2="55" stroke="rgba(79, 70, 229, 0.8)" stroke-width="3"></line><line x1="140" y1="65" x2="130" y2="85" stroke="rgba(79, 70, 229, 0.8)" stroke-width="3"></line><line x1="140" y1="65" x2="150" y2="85" stroke="rgba(79, 70, 229, 0.8)" stroke-width="3"></line><line x1="170" y1="22" x2="170" y2="85" stroke="rgba(79, 70, 229, 0.5)" stroke-width="1" stroke-dasharray="3"></line><text x="180" y="55" fill="rgba(255,255,255,0.6)" font-size="7"> </text></svg></div></div>',1),It=$(`<div class="text-center mb-6"><div class="w-16 h-16 rounded-full bg-yp-primary/20 flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-yp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div> <h2 class="text-2xl font-bold mb-2">Ready to Jump!</h2> <p class="text-white/60">Here's what will happen next</p></div> <div class="space-y-3 mb-4"><div class="flex items-center gap-3 p-3 bg-white/5 rounded-xl"><div class="w-8 h-8 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0"><div class="w-3 h-3 rounded-full bg-red-500"></div></div> <p class="font-medium text-sm">Tap the record button</p></div> <div class="flex items-center gap-3 p-3 bg-white/5 rounded-xl"><div class="w-8 h-8 rounded-full bg-yp-primary/20 flex items-center justify-center flex-shrink-0"><span class="text-yp-primary font-bold text-xs">A7B3</span></div> <div><p class="font-medium text-sm">Show the code to the camera</p> <p class="text-xs text-white/60">Hold it visible for verification</p></div></div> <div class="flex items-center gap-3 p-3 bg-white/5 rounded-xl"><div class="w-8 h-8 rounded-full bg-yp-primary/20 flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-yp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg></div> <div><p class="font-medium text-sm">Stand still, then JUMP!</p> <p class="text-xs text-white/60">Max effort vertical jump</p></div></div> <div class="flex items-center gap-3 p-3 bg-white/5 rounded-xl"><div class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0"><div class="w-4 h-4 rounded bg-white"></div></div> <p class="font-medium text-sm">Tap stop when you land</p></div></div> <div class="p-3 bg-yp-primary/10 border border-yp-primary/30 rounded-xl"><div class="flex items-center justify-between"><div><p class="text-xs text-white/60">Your height</p> <p class="text-lg font-bold"> </p></div> <button class="text-sm text-yp-primary underline">Edit</button></div></div>`,1),Tt=$('<button class="btn-primary w-full text-lg svelte-g40i6i">Continue</button>'),At=$('<div class="flex gap-4"><button class="btn-secondary flex-1 svelte-g40i6i">Back</button> <button class="btn-primary flex-1 svelte-g40i6i">Continue</button></div>'),Mt=$('<div class="flex gap-4"><button class="btn-secondary flex-1 svelte-g40i6i">Back</button> <button class="btn-primary flex-1 text-lg svelte-g40i6i">Start Recording</button></div>'),Rt=$('<div class="min-h-screen bg-gradient-to-b from-gray-900 to-black text-white flex flex-col"><div class="flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0"><button class="p-2 text-white/60 hover:text-white"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <h1 class="text-lg font-semibold">Setup</h1> <div class="w-10"></div></div> <div class="flex justify-center gap-2 py-4"></div> <div class="flex-1 overflow-y-auto p-6 pb-24"><div class="max-w-md mx-auto"><!></div></div> <div class="fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black via-black to-transparent"><div class="max-w-md mx-auto"><!></div></div></div>');function Pt(e,s){xt(s,!0);let i=xe(5),f=xe(10),_=8,a=xe("height"),c=Z(()=>bt(r(i),r(f))),x=Z(()=>Math.round(r(c)*2.54));const o=[{label:`5'0"`,feet:5,inches:0},{label:`5'6"`,feet:5,inches:6},{label:`5'10"`,feet:5,inches:10},{label:`6'0"`,feet:6,inches:0},{label:`6'4"`,feet:6,inches:4}];function p(h,y){J(i,h,!0),J(f,y,!0)}function d(){r(a)==="height"?J(a,"setup"):r(a)==="setup"&&J(a,"ready")}function I(){r(a)==="setup"?J(a,"height"):r(a)==="ready"&&J(a,"setup")}function g(){const h={heightInches:r(c),heightFeet:r(i),heightInchesRemainder:r(f),cameraDistanceFeet:_,cameraHeightPosition:"hip"};sessionStorage.setItem("xlens_calibration",JSON.stringify(h)),Ne("/capture")}var k=Rt(),N=n(k),G=n(N);G.__click=()=>Ne("/"),he(4),l(N);var t=u(N,2);Be(t,20,()=>["height","setup","ready"],Fe,(h,y,M)=>{const R=Z(()=>["height","setup","ready"].indexOf(r(a))),F=Z(()=>r(a)===y),b=Z(()=>r(R)>M),E=Z(()=>!r(F)&&r(R)<M+1);var w=kt();se(()=>De(w,1,`w-3 h-3 rounded-full transition-colors ${r(F)||r(b)?"bg-yp-primary":""} ${r(E)?"bg-white/20":""}`)),H(h,w)}),l(t);var v=u(t,2),P=n(v),X=n(P);{var A=h=>{var y=St(),M=u(ee(y),2),R=n(M),F=n(R);l(R);var b=u(R,2),E=n(b);l(b),l(M);var w=u(M,2);Be(w,21,()=>o,Fe,(D,B)=>{const ie=Z(()=>r(i)===r(B).feet&&r(f)===r(B).inches);var L=Et();L.__click=()=>p(r(B).feet,r(B).inches);var ne=n(L,!0);l(L),se(()=>{De(L,1,`px-4 py-2 rounded-full border transition-colors ${r(ie)?"border-yp-primary bg-yp-primary/20":"border-white/20"}`),q(ne,r(B).label)}),H(D,L)}),l(w);var m=u(w,2),S=n(m),j=u(n(S),2);je(j),he(2),l(S);var z=u(S,2),O=u(n(z),2);je(O),he(2),l(z),l(m),se(()=>{q(F,`${r(i)??""}'${r(f)??""}"`),q(E,`${r(x)??""} cm`)}),Le(j,()=>r(i),D=>J(i,D)),Le(O,()=>r(f),D=>J(f,D)),H(h,y)},U=h=>{var y=oe(),M=ee(y);{var R=b=>{var E=Ct(),w=u(ee(E),2),m=n(w),S=u(n(m),2),j=u(n(S),2),z=n(j,!0);l(j),l(S),l(m);var O=u(m,2),D=u(n(O),2),B=u(n(D),2),ie=n(B,!0);l(B),l(D),l(O);var L=u(O,2),ne=u(n(L),2),we=u(n(ne),2),Ve=n(we,!0);l(we),l(ne),l(L);var ke=u(L,2),Ee=u(n(ke),2),Se=u(n(Ee),2),Ye=n(Se,!0);l(Se),l(Ee),l(ke),l(w);var Ce=u(w,2),Ie=n(Ce),Te=n(Ie),Ae=u(n(Te),12),Je=n(Ae);l(Ae),l(Te),l(Ie),l(Ce),se(()=>{q(z,ve.distanceRecommendation),q(ie,ve.orientationRecommendation),q(Ve,ve.lightingRecommendation),q(Ye,ve.positioningRecommendation),q(Je,`${r(i)??""}'${r(f)??""}"`)}),H(b,E)},F=b=>{var E=oe(),w=ee(E);{var m=S=>{var j=It(),z=u(ee(j),4),O=n(z),D=n(O),B=u(n(D),2),ie=n(B);l(B),l(D);var L=u(D,2);L.__click=()=>J(a,"height"),l(O),l(z),se(()=>q(ie,`${r(i)??""}'${r(f)??""}" (${r(x)??""} cm)`)),H(S,j)};ae(w,S=>{r(a)==="ready"&&S(m)},!0)}H(b,E)};ae(M,b=>{r(a)==="setup"?b(R):b(F,!1)},!0)}H(h,y)};ae(X,h=>{r(a)==="height"?h(A):h(U,!1)})}l(P),l(v);var V=u(v,2),C=n(V),Y=n(C);{var K=h=>{var y=Tt();y.__click=d,H(h,y)},T=h=>{var y=oe(),M=ee(y);{var R=b=>{var E=At(),w=n(E);w.__click=I;var m=u(w,2);m.__click=d,l(E),H(b,E)},F=b=>{var E=oe(),w=ee(E);{var m=S=>{var j=Mt(),z=n(j);z.__click=I;var O=u(z,2);O.__click=g,l(j),H(S,j)};ae(w,S=>{r(a)==="ready"&&S(m)},!0)}H(b,E)};ae(M,b=>{r(a)==="setup"?b(R):b(F,!1)},!0)}H(h,y)};ae(Y,h=>{r(a)==="height"?h(K):h(T,!1)})}l(C),l(V),l(k),H(e,k),mt()}gt(["click"]);export{Pt as component};
