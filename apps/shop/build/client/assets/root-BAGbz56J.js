import{o as ke,p as ye,q as be,t as De,r as d,_ as xe,n as m,v as Oe,M as Le,L as Re,O as Ve,S as Ne}from"./components-uNmAz_NV.js";/**
 * @remix-run/react v2.17.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */let Y="positions";function je({getKey:e,...t}){let{isSpaMode:r}=ke(),n=ye(),a=be();De({getKey:e,storageKey:Y});let i=d.useMemo(()=>{if(!e)return null;let s=e(n,a);return s!==n.key?s:null},[]);if(r)return null;let o=((s,l)=>{if(!window.history.state||!window.history.state.key){let c=Math.random().toString(32).slice(2);window.history.replaceState({key:c},"")}try{let u=JSON.parse(sessionStorage.getItem(s)||"{}")[l||window.history.state.key];typeof u=="number"&&window.scrollTo(0,u)}catch(c){console.error(c),sessionStorage.removeItem(s)}}).toString();return d.createElement("script",xe({},t,{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${o})(${JSON.stringify(Y)}, ${JSON.stringify(i)})`}}))}const Ue="modulepreload",We=function(e){return"/"+e},F={},Be=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=o(r.map(c=>{if(c=We(c),c in F)return;F[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Ue,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((h,y)=>{p.addEventListener("load",h),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};function Q(e){if(!e){const t=`flattenConnection(): needs a 'connection' to flatten, but received '${e??""}' instead.`;return console.error(t+" Returning an empty array"),[]}return"nodes"in e?e.nodes:"edges"in e&&Array.isArray(e.edges)?e.edges.map(t=>{if(!(t!=null&&t.node))throw new Error("flattenConnection(): Connection edges must contain nodes");return t.node}):[]}const S="_shopify_y",k="_shopify_s";var Me=new Set(["domain","path","max-age","expires","samesite","secure","httponly"]);function $e(e){let t={},r,n,a=0,i=e.split(/;\s*/g),o,s;for(;a<i.length;a++)if(n=i[a],r=n.indexOf("="),~r){if(o=n.substring(0,r++).trim(),s=n.substring(r).trim(),s[0]==='"'&&(s=s.substring(1,s.length-1)),~s.indexOf("%"))try{s=decodeURIComponent(s)}catch{}Me.has(n=o.toLowerCase())?n==="expires"?t.expires=new Date(s):n==="max-age"?t.maxage=+s:t[n]=s:t[o]=s}else(o=n.trim().toLowerCase())&&(o==="httponly"||o==="secure")&&(t[o]=!0);return t}function Ge(e,t,r={}){let n=e+"="+encodeURIComponent(t);return r.expires&&(n+="; Expires="+new Date(r.expires).toUTCString()),r.maxage!=null&&r.maxage>=0&&(n+="; Max-Age="+(r.maxage|0)),r.domain&&(n+="; Domain="+r.domain),r.path&&(n+="; Path="+r.path),r.samesite&&(n+="; SameSite="+r.samesite),(r.secure||r.samesite==="None")&&(n+="; Secure"),r.httponly&&(n+="; HttpOnly"),n}const z="xxxx-4xxx-xxxx-xxxxxxxxxxxx";function U(){let e="";try{const t=window.crypto,r=new Uint16Array(31);t.getRandomValues(r);let n=0;e=z.replace(/[x]/g,a=>{const i=r[n]%16,o=a==="x"?i:i&3|8;return n++,o.toString(16)}).toUpperCase()}catch{e=z.replace(/[x]/g,r=>{const n=Math.random()*16|0;return(r==="x"?n:n&3|8).toString(16)}).toUpperCase()}return`${qe()}-${e}`}function qe(){let e=0,t=0;e=new Date().getTime()>>>0;try{t=performance.now()>>>0}catch{t=0}return Math.abs(e+t).toString(16).toLowerCase().padStart(8,"0")}function ve(e){const t=$e(e);return{[S]:t[S]||"",[k]:t[k]||""}}const g={PAGE_VIEW:"PAGE_VIEW",ADD_TO_CART:"ADD_TO_CART",PAGE_VIEW_2:"PAGE_VIEW_2",COLLECTION_VIEW:"COLLECTION_VIEW",PRODUCT_VIEW:"PRODUCT_VIEW",SEARCH_VIEW:"SEARCH_VIEW"},b={collection:"collection",product:"product",search:"search"},He={headless:"headless"},X={hydrogen:"6167201",headless:"12875497473"};function P(e,t){return{schema_id:e,payload:t,metadata:{event_created_at_ms:Date.now()}}}function v(e){const t={id:"",resource:null,resourceId:null,search:"",searchParams:new URLSearchParams,hash:""};if(typeof e!="string")return t;try{const{search:r,searchParams:n,pathname:a,hash:i}=new URL(e),o=a.split("/"),s=o[o.length-1],l=o[o.length-2];return!s||!l?t:{id:`${s}${r}${i}`||"",resource:l??null,resourceId:s||null,search:r,searchParams:n,hash:i}}catch{return t}}function _(e,t){return typeof e!="object"?{}:(Object.entries(e).forEach(([r,n])=>{n&&(t[r]=n)}),t)}function Je(e){return typeof document>"u"?(console.error(`${e} should only be used within the useEffect callback or event handlers`),!0):!1}const Ke="trekkie_storefront_page_view/1.4",Ye="myshopify.dev";function Z(e){const t=e,{id:r,resource:n}=v(t.resourceId),a=n?n.toLowerCase():void 0;return[P(Ke,_({pageType:t.pageType,customerId:parseInt(v(t.customerId).id||"0"),resourceType:a,resourceId:parseInt(r)},Fe(t)))]}function Fe(e){return{appClientId:e.shopifySalesChannel?X[e.shopifySalesChannel]:X.headless,isMerchantRequest:Qe(e.url),hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",isPersistentCookie:e.hasUserConsent,uniqToken:e.uniqueToken,visitToken:e.visitToken,microSessionId:U(),microSessionCount:1,url:e.url,path:e.path,search:e.search,referrer:e.referrer,title:e.title,shopId:parseInt(v(e.shopId).id),currency:e.currency,contentLanguage:e.acceptedLanguage||"en"}}function Qe(e){if(typeof e!="string")return!1;const t=new URL(e).hostname;return t.indexOf(Ye)!==-1||t==="localhost"}const ze="2024.10.1",C="custom_storefront_customer_tracking/1.2",ge="page_rendered",_e="collection_page_rendered",we="product_page_rendered",Xe="product_added_to_cart",Ee="search_submitted";function x(e){return{canonical_url:e.canonicalUrl||e.url,customer_id:parseInt(v(e.customerId).id||"0")}}function Ze(e){const t=e,r=x(t),n=t.pageType,a=[];switch(a.push(P(C,_({event_name:ge,...r},A(t)))),n){case b.collection:a.push(P(C,_({event_name:_e,...r,collection_name:t.collectionHandle,collection_id:parseInt(v(t.collectionId).id)},A(t))));break;case b.product:a.push(P(C,_({event_name:we,...r,products:H(t.products),total_value:t.totalValue},A(t))));break;case b.search:a.push(P(C,_({event_name:Ee,...r,search_string:t.searchString},A(t))));break}return a}function et(e){const t=e,r=x(t);return[P(C,_({event_name:ge,...r},A(t)))]}function tt(e){const t=e,r=x(t);return[P(C,_({event_name:_e,...r,collection_name:t.collectionHandle,collection_id:parseInt(v(t.collectionId).id)},A(t)))]}function rt(e){const t=e,r=x(t);return[P(C,_({event_name:we,...r,products:H(t.products),total_value:t.totalValue},A(t)))]}function nt(e){const t=e,r=x(t);return[P(C,_({event_name:Ee,...r,search_string:t.searchString},A(t)))]}function ot(e){const t=e,r=v(t.cartId),n=r!=null&&r.id?`${r.id}`:null;return[P(C,_({event_name:Xe,customerId:t.customerId,cart_token:n,total_value:t.totalValue,products:H(t.products),customer_id:parseInt(v(t.customerId).id||"0")},A(t)))]}function A(e){return{source:e.shopifySalesChannel||He.headless,asset_version_id:e.assetVersionId||ze,hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",is_persistent_cookie:e.hasUserConsent,deprecated_visit_token:e.visitToken,unique_token:e.uniqueToken,event_time:Date.now(),event_id:U(),event_source_url:e.url,referrer:e.referrer,user_agent:e.userAgent,navigation_type:e.navigationType,navigation_api:e.navigationApi,shop_id:parseInt(v(e.shopId).id),currency:e.currency,ccpa_enforced:e.ccpaEnforced||!1,gdpr_enforced:e.gdprEnforced||!1,gdpr_enforced_as_string:e.gdprEnforced?"true":"false",analytics_allowed:e.analyticsAllowed||!1,marketing_allowed:e.marketingAllowed||!1,sale_of_data_allowed:e.saleOfDataAllowed||!1}}function H(e){return e?e.map(t=>{const r=_({variant_gid:t.variantGid,category:t.category,sku:t.sku,product_id:parseInt(v(t.productGid).id),variant_id:parseInt(v(t.variantGid).id)},{product_gid:t.productGid,name:t.name,variant:t.variantName||"",brand:t.brand,price:parseFloat(t.price),quantity:Number(t.quantity||0)});return JSON.stringify(r)}):[]}function O(e,t){const{eventName:r,payload:n}=e;if(!n.hasUserConsent)return Promise.resolve();let a=[];const i=n;return r===g.PAGE_VIEW?a=a.concat(Z(i),Ze(i)):r===g.ADD_TO_CART?a=a.concat(ot(n)):r===g.PAGE_VIEW_2?a=a.concat(Z(i),et(i)):r===g.COLLECTION_VIEW?a=a.concat(tt(i)):r===g.PRODUCT_VIEW?a=a.concat(rt(i)):r===g.SEARCH_VIEW&&(a=a.concat(nt(i))),a.length?st(a,t):Promise.resolve()}function at(){return typeof window>"u"||!window.navigator?!1:/Chrome-Lighthouse/.test(window.navigator.userAgent)}const ee="sendShopifyAnalytics request is unsuccessful";function st(e,t){if(at())return Promise.resolve();const r={events:e,metadata:{event_sent_at_ms:Date.now()}};try{return fetch(t?`https://${t}/.well-known/shopify/monorail/unstable/produce_batch`:"https://monorail-edge.shopifysvc.com/unstable/produce_batch",{method:"post",headers:{"content-type":"text/plain"},body:JSON.stringify(r)}).then(n=>{if(!n.ok)throw new Error("Response failed");return n.text()}).then(n=>{n&&JSON.parse(n).result.forEach(i=>{i.status!==200&&console.error(ee,`

`,i.message)})}).catch(n=>{console.error(ee,n)})}catch{return Promise.resolve()}}function it(){if(Je("getClientBrowserParameters"))return{uniqueToken:"",visitToken:"",url:"",path:"",search:"",referrer:"",title:"",userAgent:"",navigationType:"",navigationApi:""};const[e,t]=lt(),r=ve(document.cookie);return{uniqueToken:r[S],visitToken:r[k],url:location.href,path:location.pathname,search:location.search,referrer:document.referrer,title:document.title,userAgent:navigator.userAgent,navigationType:e,navigationApi:t}}function ct(){try{const e=(performance==null?void 0:performance.getEntriesByType)&&(performance==null?void 0:performance.getEntriesByType("navigation"));if(e&&e[0]){const t=window.performance.getEntriesByType("navigation")[0].type;return t&&t.toString()}}catch{}}function ut(){var e,t;try{if(PerformanceNavigation&&((e=performance==null?void 0:performance.navigation)==null?void 0:e.type)!==null&&((t=performance==null?void 0:performance.navigation)==null?void 0:t.type)!==void 0){const r=performance.navigation.type;switch(r){case PerformanceNavigation.TYPE_NAVIGATE:return"navigate";case PerformanceNavigation.TYPE_RELOAD:return"reload";case PerformanceNavigation.TYPE_BACK_FORWARD:return"back_forward";default:return`unknown: ${r}`}}}catch{}}function lt(){try{let e="PerformanceNavigationTiming",t=ct();return t||(t=ut(),e="performance.navigation"),t?[t,e]:["unknown","unknown"]}catch{}return["error","error"]}const te={};function dt(e,t){const r=te[e];if(r)return r;const n=new Promise((a,i)=>{const o=document.createElement("script");t!=null&&t.module?o.type="module":o.type="text/javascript",o.src=e,o.onload=()=>{a(!0)},o.onerror=()=>{i(!1)},(t==null?void 0:t.in)==="head"?document.head.appendChild(o):document.body.appendChild(o);const s=t==null?void 0:t.attributes;s&&Object.keys(s).forEach(l=>{o.setAttribute(l,s[l])})});return te[e]=n,n}function J(e,t){const[r,n]=d.useState("loading");return d.useEffect(()=>{dt(e,t).then(()=>n("done")).catch(()=>n("error"))},[e]),r}const ft=60*60*24*360*1,pt=60*30;function ht(e){const{hasUserConsent:t=!1,domain:r="",checkoutDomain:n=""}=e||{};d.useEffect(()=>{const a=ve(document.cookie);let i=r||window.document.location.host;if(n){const s=n.split(".").reverse(),l=i.split(".").reverse(),c=[];s.forEach((u,f)=>{u===l[f]&&c.push(u)}),i=c.reverse().join(".")}/^localhost/.test(i)&&(i="");const o=i?/^\./.test(i)?i:`.${i}`:"";t?(R(S,a[S]||U(),ft,o),R(k,a[k]||U(),pt,o)):(R(S,"",0,o),R(k,"",0,o))},[e,t,r,n])}function R(e,t,r,n){document.cookie=Ge(e,t,{maxage:r,domain:n,samesite:"Lax",path:"/"})}var re=new Set,mt=e=>{re.has(e)||(console.warn(e),re.add(e))},ne=new Set,oe=e=>{ne.has(e)||(console.error(new Error(e)),ne.add(e))};d.lazy(()=>Be(()=>import("./log-seo-tags-TY72EQWZ-DCHH-_Gl.js"),[]));var Pe=d.createContext(void 0);Pe.Provider;var Ce=()=>d.useContext(Pe);d.forwardRef((e,t)=>{let{waitForHydration:r,src:n,...a}=e;if(r)return m.jsx(yt,{src:n,options:a});let i=Ce();return m.jsx("script",{suppressHydrationWarning:!0,...a,src:n,nonce:i,ref:t})});function yt({src:e,options:t}){if(!e)throw new Error("`waitForHydration` with the Script component requires a `src` prop");return J(e,{attributes:t}),null}function vt(e){let{type:t,data:r={},customData:n}=e,a=ye(),{publish:i,cart:o,prevCart:s,shop:l,customData:c}=B(),u=a.pathname+a.search,f={...r,customData:{...c,...n},cart:o,prevCart:s,shop:l};return d.useEffect(()=>{l!=null&&l.shopId&&(f={...f,url:window.location.href},i(t,f))},[i,u,l==null?void 0:l.shopId]),null}function gt(e){return m.jsx(vt,{...e,type:"page_viewed"})}var E={PAGE_VIEWED:"page_viewed",PRODUCT_VIEWED:"product_viewed",COLLECTION_VIEWED:"collection_viewed",CART_VIEWED:"cart_viewed",SEARCH_VIEWED:"search_viewed",PRODUCT_ADD_TO_CART:"product_added_to_cart"},_t="https://cdn.shopify.com/shopifycloud/consent-tracking-api/v0.1/consent-tracking-api.js",wt="https://cdn.shopify.com/shopifycloud/privacy-banner/storefront-banner.js";function $(e){console.error(`[h2:error:useCustomerPrivacy] Unable to setup Customer Privacy API: Missing consent.${e} configuration.`)}function Et(e){let{withPrivacyBanner:t=!1,onVisitorConsentCollected:r,onReady:n,...a}=e;J(t?wt:_t,{attributes:{id:"customer-privacy-api"}});let{observing:i,setLoaded:o}=Pt({withPrivacyBanner:t,onLoaded:n}),s=d.useMemo(()=>{let{checkoutDomain:c,storefrontAccessToken:u}=a;return c||$("checkoutDomain"),u||$("storefrontAccessToken"),(u.startsWith("shpat_")||u.length!==32)&&console.error("[h2:error:useCustomerPrivacy] It looks like you passed a private access token, make sure to use the public token"),{checkoutRootDomain:c,storefrontAccessToken:u,storefrontRootDomain:ie(c),country:a.country,locale:a.locale}},[a,ie,$]);d.useEffect(()=>{let c=u=>{r&&r(u.detail)};return document.addEventListener("visitorConsentCollected",c),()=>{document.removeEventListener("visitorConsentCollected",c)}},[r]),d.useEffect(()=>{if(!t||i.current.privacyBanner)return;i.current.privacyBanner=!0;let c=window.privacyBanner||void 0;Object.defineProperty(window,"privacyBanner",{configurable:!0,get(){return c},set(u){if(typeof u=="object"&&u!==null&&"showPreferences"in u&&"loadBanner"in u){let f=u;f.loadBanner(s),c=ue({privacyBanner:f,config:s}),o.privacyBanner(),se()}}})},[t,s,ue,o.privacyBanner]),d.useEffect(()=>{if(i.current.customerPrivacy)return;i.current.customerPrivacy=!0;let c=null,u=window.Shopify||void 0;Object.defineProperty(window,"Shopify",{configurable:!0,get(){return u},set(f){typeof f=="object"&&f!==null&&Object.keys(f).length===0&&(u=f,Object.defineProperty(window.Shopify,"customerPrivacy",{configurable:!0,get(){return c},set(p){if(typeof p=="object"&&p!==null&&"setTrackingConsent"in p){let h=p;c={...h,setTrackingConsent:ce({customerPrivacy:h,config:s})},u={...u,customerPrivacy:c},o.customerPrivacy(),se()}}}))}})},[s,ce,o.customerPrivacy]);let l={customerPrivacy:W()};return t&&(l.privacyBanner=G()),l}var ae=!1;function se(){if(ae)return;ae=!0;let e=new CustomEvent("shopifyCustomerPrivacyApiLoaded");document.dispatchEvent(e)}function Pt({withPrivacyBanner:e,onLoaded:t}){let r=d.useRef({customerPrivacy:!1,privacyBanner:!1}),[n,a]=d.useState(e?[!1,!1]:[!1]),i=n.every(Boolean),o={customerPrivacy:()=>{a(e?s=>[!0,s[1]]:()=>[!0])},privacyBanner:()=>{e&&a(s=>[s[0],!0])}};return d.useEffect(()=>{i&&t&&t()},[i,t]),{observing:r,setLoaded:o}}function ie(e){if(typeof window>"u")return;let t=window.document.location.host,r=e.split(".").reverse(),n=t.split(".").reverse(),a=[];return r.forEach((i,o)=>{i===n[o]&&a.push(i)}),a.reverse().join(".")}function ce({customerPrivacy:e,config:t}){let r=e.setTrackingConsent,{locale:n,country:a,...i}=t;function o(s,l){r({...i,headlessStorefront:!0,...s},l)}return o}function ue({privacyBanner:e,config:t}){let r=e.loadBanner,n=e.showPreferences;function a(o){if(typeof o=="object"){r({...t,...o});return}r(t)}function i(o){if(typeof o=="object"){n({...t,...o});return}n(t)}return{loadBanner:a,showPreferences:i}}function W(){var e;try{return window.Shopify&&window.Shopify.customerPrivacy?(e=window.Shopify)==null?void 0:e.customerPrivacy:null}catch{return null}}function G(){try{return window&&(window!=null&&window.privacyBanner)?window.privacyBanner:null}catch{return null}}var Ct="2024.10.1";function At(){let e=W();if(!e)throw new Error("Shopify Customer Privacy API not available. Must be used within a useEffect. Make sure to load the Shopify Customer Privacy API with useCustomerPrivacy() or <AnalyticsProvider>.");return e}function It({consent:e,onReady:t,domain:r}){let{subscribe:n,register:a,canTrack:i}=B(),[o,s]=d.useState(!1),[l,c]=d.useState(!1),u=d.useRef(!1),{checkoutDomain:f,storefrontAccessToken:p,language:h}=e,{ready:y}=a("Internal_Shopify_Analytics");return Et({...e,locale:h,checkoutDomain:f||"mock.shop",storefrontAccessToken:p||"abcdefghijklmnopqrstuvwxyz123456",onVisitorConsentCollected:()=>c(!0),onReady:()=>c(!0)}),ht({hasUserConsent:l?i():!0,domain:r,checkoutDomain:f}),d.useEffect(()=>{u.current||(u.current=!0,n(E.PAGE_VIEWED,St),n(E.PRODUCT_VIEWED,kt),n(E.COLLECTION_VIEWED,bt),n(E.SEARCH_VIEWED,Dt),n(E.PRODUCT_ADD_TO_CART,xt),s(!0))},[n]),d.useEffect(()=>{o&&l&&(y(),t())},[o,l,t]),null}function V(e){console.error(`[h2:error:ShopifyAnalytics] Unable to send Shopify analytics: Missing shop.${e} configuration.`)}function L(e){var n,a,i,o;let t=At(),r=t.analyticsProcessingAllowed();if(!((n=e==null?void 0:e.shop)!=null&&n.shopId)){V("shopId");return}if(!((a=e==null?void 0:e.shop)!=null&&a.acceptedLanguage)){V("acceptedLanguage");return}if(!((i=e==null?void 0:e.shop)!=null&&i.currency)){V("currency");return}if(!((o=e==null?void 0:e.shop)!=null&&o.hydrogenSubchannelId)){V("hydrogenSubchannelId");return}return{shopifySalesChannel:"hydrogen",assetVersionId:Ct,...e.shop,hasUserConsent:r,...it(),ccpaEnforced:!t.saleOfDataAllowed(),gdprEnforced:!(t.marketingAllowed()&&t.analyticsProcessingAllowed()),analyticsAllowed:t.analyticsProcessingAllowed(),marketingAllowed:t.marketingAllowed(),saleOfDataAllowed:t.saleOfDataAllowed()}}function Tt(e,t){if(t===null)return;let r=L(e);return r?{...r,cartId:t.id}:void 0}var I={};function St(e){let t=L(e);t&&(O({eventName:g.PAGE_VIEW_2,payload:{...t,...I}}),I={})}function kt(e){let t=L(e);if(t&&Ae({type:"product",products:e.products})){let r=q(e.products);I={pageType:b.product,resourceId:r[0].productGid},t={...t,...I,products:q(e.products)},O({eventName:g.PRODUCT_VIEW,payload:t})}}function bt(e){let t=L(e);t&&(I={pageType:b.collection,resourceId:e.collection.id},t={...t,...I,collectionHandle:e.collection.handle,collectionId:e.collection.id},O({eventName:g.COLLECTION_VIEW,payload:t}))}function Dt(e){let t=L(e);t&&(I={pageType:b.search},t={...t,...I,searchString:e.searchTerm},O({eventName:g.SEARCH_VIEW,payload:t}))}function xt(e){let{cart:t,currentLine:r}=e,n=Tt(e,t);!n||!(r!=null&&r.id)||Ot({matchedLine:r,eventPayload:n})}function Ot({matchedLine:e,eventPayload:t}){let r={id:e.merchandise.product.id,variantId:e.merchandise.id,title:e.merchandise.product.title,variantTitle:e.merchandise.title,vendor:e.merchandise.product.vendor,price:e.merchandise.price.amount,quantity:e.quantity,productType:e.merchandise.product.productType,sku:e.merchandise.sku};Ae({type:"cart",products:[r]})&&O({eventName:g.ADD_TO_CART,payload:{...t,products:q([r])}})}function T(e,t,r,n){if(e==="cart"){let a=`${r?"merchandise":"merchandise.product"}.${t}`;console.error(`[h2:error:ShopifyAnalytics] Can't set up cart analytics events because the \`cart.lines[].${a}\` value is missing from your GraphQL cart query. In your project, search for where \`fragment CartLine on CartLine\` is defined and make sure \`${a}\` is part of your cart query. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/lib/fragments.ts#L25-L56.`)}else{let a=`${n||t}`;console.error(`[h2:error:ShopifyAnalytics] Can't set up product view analytics events because the \`${a}\` is missing from your \`<Analytics.ProductView>\`. Make sure \`${a}\` is part of your products data prop. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/routes/products.%24handle.tsx#L159-L165.`)}}function Ae({type:e,products:t}){return!t||t.length===0?(T(e,"",!1,"data.products"),!1):(t.forEach(r=>{if(!r.id)return T(e,"id",!1),!1;if(!r.title)return T(e,"title",!1),!1;if(!r.price)return T(e,"price.amount",!0,"price"),!1;if(!r.vendor)return T(e,"vendor",!1),!1;if(!r.variantId)return T(e,"id",!0,"variantId"),!1;if(!r.variantTitle)return T(e,"title",!0,"variantTitle"),!1}),!0)}function q(e){return e.map(t=>{let r={productGid:t.id,variantGid:t.variantId,name:t.title,variantName:t.variantTitle,brand:t.vendor,price:t.price,quantity:t.quantity||1,category:t.productType};return t.sku&&(r.sku=t.sku),t.productType&&(r.category=t.productType),r})}function le(e){console.error(`[h2:error:CartAnalytics] Can't set up cart analytics events because the \`cart.${e}\` value is missing from your GraphQL cart query. In your project, search for where \`fragment CartApiQuery on Cart\` is defined and make sure \`${e}\` is part of your cart query. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/lib/fragments.ts#L59.`)}function Lt({cart:e,setCarts:t}){let{publish:r,shop:n,customData:a,canTrack:i,cart:o,prevCart:s}=B(),l=d.useRef(null);return d.useEffect(()=>{if(e)return Promise.resolve(e).then(c=>{if(c&&c.lines){if(!c.id){le("id");return}if(!c.updatedAt){le("updatedAt");return}}t(({cart:u,prevCart:f})=>(c==null?void 0:c.updatedAt)!==(u==null?void 0:u.updatedAt)?{cart:c,prevCart:u}:{cart:u,prevCart:f})}),()=>{}},[t,e]),d.useEffect(()=>{if(!o||!(o!=null&&o.updatedAt)||(o==null?void 0:o.updatedAt)===(s==null?void 0:s.updatedAt))return;let c;try{c=JSON.parse(localStorage.getItem("cartLastUpdatedAt")||"")}catch{c=null}if(o.id===(c==null?void 0:c.id)&&o.updatedAt===(c==null?void 0:c.updatedAt))return;let u={eventTimestamp:Date.now(),cart:o,prevCart:s,shop:n,customData:a};if(o.updatedAt===l.current)return;l.current=o.updatedAt,r("cart_updated",u),localStorage.setItem("cartLastUpdatedAt",JSON.stringify({id:o.id,updatedAt:o.updatedAt}));let f=s!=null&&s.lines?Q(s==null?void 0:s.lines):[],p=o.lines?Q(o.lines):[];f==null||f.forEach(h=>{let y=p.filter(w=>h.id===w.id);if((y==null?void 0:y.length)===1){let w=y[0];h.quantity<w.quantity?r("product_added_to_cart",{...u,prevLine:h,currentLine:w}):h.quantity>w.quantity&&r("product_removed_from_cart",{...u,prevLine:h,currentLine:w})}else r("product_removed_from_cart",{...u,prevLine:h})}),p==null||p.forEach(h=>{let y=f.filter(w=>h.id===w.id);(!y||y.length===0)&&r("product_added_to_cart",{...u,currentLine:h})})},[o,s,r,n,a,i]),null}var Rt="https://cdn.shopify.com/shopifycloud/perf-kit/shopify-perf-kit-1.0.1.min.js";function Vt({shop:e}){let t=d.useRef(!1),{subscribe:r,register:n}=B(),{ready:a}=n("Internal_Shopify_Perf_Kit"),i=J(Rt,{attributes:{id:"perfkit","data-application":"hydrogen","data-shop-id":v(e.shopId).id.toString(),"data-storefront-id":e.hydrogenSubchannelId,"data-monorail-region":"global","data-spa-mode":"true","data-resource-timing-sampling-rate":"100"}});return d.useEffect(()=>{i!=="done"||t.current||(t.current=!0,r(E.PAGE_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.navigate()}),r(E.PRODUCT_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("product")}),r(E.COLLECTION_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("collection")}),r(E.SEARCH_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("search")}),r(E.CART_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("cart")}),a())},[r,a,i]),null}var Nt={canTrack:()=>!1,cart:null,customData:{},prevCart:null,publish:()=>{},shop:null,subscribe:()=>{},register:()=>({ready:()=>{}}),customerPrivacy:null,privacyBanner:null},Ie=d.createContext(Nt),N=new Map,D={};function Te(){return Object.values(D).every(Boolean)}function de(e,t){var r;N.has(e)||N.set(e,new Map),(r=N.get(e))==null||r.set(t.toString(),t)}var j=new Map;function fe(e,t){if(!Te()){j.set(e,t);return}Se(e,t)}function Se(e,t){(N.get(e)??new Map).forEach((r,n)=>{try{r(t)}catch(a){typeof a=="object"&&a instanceof Error?console.error("Analytics publish error",a.message,n,a.stack):console.error("Analytics publish error",a,n)}})}function pe(e){return D.hasOwnProperty(e)||(D[e]=!1),{ready:()=>{D[e]=!0,Te()&&j.size>0&&(j.forEach((t,r)=>{Se(r,t)}),j.clear())}}}function he(){try{return window.Shopify.customerPrivacy.analyticsProcessingAllowed()}catch{}return!1}function me(e,t){return`[h2:error:Analytics.Provider] - ${e} is required. Make sure ${t} is defined in your environment variables. See https://h2o.fyi/analytics/consent to learn how to setup environment variables in the Shopify admin.`}function jt({canTrack:e,cart:t,children:r,consent:n,customData:a={},shop:i=null,cookieDomain:o}){var K;let s=d.useRef(!1),{shop:l}=Ut(i),[c,u]=d.useState(!!e),[f,p]=d.useState({cart:null,prevCart:null}),[h,y]=d.useState(e?()=>e:()=>he);if(l)if(/\/68817551382$/.test(l.shopId))mt("[h2:error:Analytics.Provider] - Mock shop is used. Analytics will not work properly.");else{if(!n.checkoutDomain){let M=me("consent.checkoutDomain","PUBLIC_CHECKOUT_DOMAIN");oe(M)}if(!n.storefrontAccessToken){let M=me("consent.storefrontAccessToken","PUBLIC_STOREFRONT_API_TOKEN");oe(M)}n!=null&&n.country||(n.country="US"),n!=null&&n.language||(n.language="EN"),n.withPrivacyBanner===void 0&&(n.withPrivacyBanner=!1)}let w=d.useMemo(()=>({canTrack:h,...f,customData:a,publish:h()?fe:()=>{},shop:l,subscribe:de,register:pe,customerPrivacy:W(),privacyBanner:G()}),[c,h,f,(K=f.cart)==null?void 0:K.updatedAt,f.prevCart,fe,de,a,l,pe,JSON.stringify(D),W,G]);return m.jsxs(Ie.Provider,{value:w,children:[r,!!l&&m.jsx(gt,{}),!!l&&!!t&&m.jsx(Lt,{cart:t,setCarts:p}),!!l&&n.checkoutDomain&&m.jsx(It,{consent:n,onReady:()=>{s.current=!0,u(!0),y(e?()=>e:()=>he)},domain:o}),!!l&&m.jsx(Vt,{shop:l})]})}function B(){let e=d.useContext(Ie);if(!e)throw new Error("[h2:error:useAnalytics] 'useAnalytics()' must be a descendent of <AnalyticsProvider/>");return e}function Ut(e){let[t,r]=d.useState(null);return d.useEffect(()=>(Promise.resolve(e).then(r),()=>{}),[r,e]),{shop:t}}var Wt={Provider:jt};const Bt="/assets/app-BGJGAnV9.css",$t=()=>[{rel:"stylesheet",href:Bt},{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700&display=swap"}];function Gt(){const e=Ce(),t=Oe();return m.jsxs("html",{lang:"en",children:[m.jsxs("head",{children:[m.jsx("meta",{charSet:"utf-8"}),m.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),m.jsx("meta",{name:"theme-color",content:"#0a0a0a"}),m.jsx(Le,{}),m.jsx(Re,{})]}),m.jsxs("body",{className:"bg-wolf-black text-white min-h-screen",children:[m.jsx(Ve,{}),m.jsx(je,{nonce:e}),m.jsx(Ne,{nonce:e}),m.jsx(Wt.Provider,{cart:t.cart,shop:{},consent:{}})]})]})}export{Gt as default,$t as links};
