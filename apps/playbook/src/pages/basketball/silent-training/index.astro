---
import { getCollection } from "astro:content";

// Get Silent Training drills
const allDrills = await getCollection("drills");
const silentDrills = allDrills.filter(
  (d) =>
    d.data.cluster === "silent-training" ||
    d.data.cluster === "home-training" ||
    d.data.tags.includes("apartment-friendly") ||
    d.data.tags.includes("silent"),
);

// Get related Q&A
const allQA = await getCollection("parent-sidelines");
const relatedQA = allQA.filter(
  (qa) =>
    qa.data.category === "training-hacks" ||
    qa.data.keywords.some(
      (k) => k.includes("apartment") || k.includes("hoop") || k.includes("home"),
    ),
);

const breadcrumbs = [
  { label: "Home", url: "/" },
  { label: "Basketball", url: "/basketball/" },
  { label: "Silent Training" },
];

const featuredPages = [
  {
    title: "The Silent Assassin Handle",
    description:
      "A 6-minute handle workout that generates less than 40 decibels. Perfect for apartments.",
    url: "#silent-assassin",
    icon: "ğŸ¤«",
    badge: "Popular",
  },
  {
    title: "The Carpet Court Blueprint",
    description: "Master pivots and footwork without a hoop or hard floor.",
    url: "#carpet-court",
    icon: "ğŸ ",
  },
  {
    title: "The Phone Booth Workout",
    description: "Elite ball handling in 4 square feet of space.",
    url: "#phone-booth",
    icon: "ğŸ“±",
  },
];

const relatedHubs = [
  { title: "Youth Drills", url: "/basketball/youth-basketball-drills/", icon: "ğŸ€" },
  { title: "Shooting", url: "/basketball/shooting/", icon: "ğŸ¯" },
  { title: "Barefoot Training", url: "/barefoot-training/", icon: "ğŸ¦¶" },
];
---

<ClusterHubLayout
  title="Silent Training: Apartment-Friendly Basketball Drills"
  description="Master your handle without waking the neighbors. Exclusive NeoBallâ„¢ protocols designed for small spaces, late nights, and apartment living. No hoop required."
  canonical="https://playbook.youthperformance.com/basketball/silent-training/"
  breadcrumbs={breadcrumbs}
  clusterIcon="ğŸ¤«"
  clusterBadge="Apartment Friendly"
  featuredPages={featuredPages}
  relatedHubs={relatedHubs}
  showSafetyDisclaimer={false}
  author={{
    name: "Adam Harrington",
    jobTitle: "NBA Skills Coach",
    description: "Former NBA player â€¢ Kevin Durant's trainer",
  }}
  keywords={["apartment basketball drills", "quiet basketball training", "silent dribbling drills", "no hoop basketball practice"]}
>
  <!-- Why Silent Training Section -->
  <section class="mb-12">
    <h2 class="font-display text-2xl font-bold mb-4">Why Train Silent?</h2>
    <div class="bg-white rounded-lg shadow-card p-6 border-l-4 border-gold">
      <p class="text-bark-soft mb-4">
        <strong class="text-ink">You don't need a gym to get better.</strong> The best ball handlers in the NBA developed their touch in basements, bedrooms, and hotel roomsâ€”not just on the court.
      </p>
      <p class="text-bark-soft mb-4">
        The "Silent" protocols force you to absorb the ball's energy on every dribble. This creates "sticky" handsâ€”the kind of touch that protects the ball when defenders reach.
      </p>
      <div class="flex items-center gap-3 mt-4 p-3 bg-paper-dark rounded">
        <span class="text-2xl">ğŸ’¡</span>
        <span class="text-sm text-bark-soft"><strong>The NeoBall Advantage:</strong> Our silent training ball is specifically designed for apartment trainingâ€”same feel, 70% less noise.</span>
      </div>
    </div>
  </section>

  <!-- Drills Section -->
  <section class="mb-12">
    <h2 class="font-display text-2xl font-bold mb-6">The Silent Protocols</h2>
    <p class="text-bark-soft mb-8 max-w-2xl">
      Each of these drills requires minimal space and generates minimal noise. Perfect for apartments, hotel rooms, and late-night sessions.
    </p>

    <div class="space-y-8">
      {silentDrills.map((drill, index) => (
        <div id={drill.data.slug}>
          <DrillCard
            number={index + 1}
            title={drill.data.title}
            tags={drill.data.tags.slice(0, 3)}
            ageBadge={{ label: `${drill.data.ageMin}-${drill.data.ageMax}`, class: drill.data.ageMin < 10 ? "age-7-9" : "age-10-13" }}
            description={drill.data.description}
            steps={drill.data.steps}
            coachingCues={drill.data.coachingCues}
            duration={drill.data.duration}
            reps={drill.data.reps}
            difficulty={drill.data.difficulty.charAt(0).toUpperCase() + drill.data.difficulty.slice(1) as "Beginner" | "Intermediate" | "Advanced" | "Scalable"}
          />
          {drill.data.coachNote && (
            <div class="mt-4 ml-4 pl-4 border-l-2 border-gold bg-paper-dark p-4 rounded-r">
              <p class="text-sm italic text-bark-soft">{drill.data.coachNote}</p>
            </div>
          )}
        </div>
      ))}
    </div>
  </section>

  <!-- Parent Q&A Section -->
  {relatedQA.length > 0 && (
    <section class="bg-paper-dark p-8 rounded-xl mb-8">
      <h2 class="font-display text-xl font-bold mb-6">Common Questions</h2>
      <div class="space-y-4">
        {relatedQA.map(qa => (
          <a href={`/parent-sidelines/${qa.slug}/`} class="block p-5 bg-white rounded-lg shadow-sm hover:shadow-md transition">
            <h3 class="font-semibold text-ink mb-2">"{qa.data.question}"</h3>
            <p class="text-bark-soft text-sm line-clamp-2">{qa.data.directAnswer}</p>
            <span class="text-gold text-sm mt-2 inline-block">Read answer â†’</span>
          </a>
        ))}
      </div>
    </section>
  )}

  <!-- Equipment CTA -->
  <section class="bg-gradient-to-br from-ink to-bark text-white p-8 rounded-xl">
    <div class="flex items-center gap-6">
      <div class="w-20 h-20 bg-gold rounded-full flex items-center justify-center text-4xl flex-shrink-0">
        ğŸ€
      </div>
      <div>
        <h2 class="font-display text-2xl font-bold text-gold mb-2">The NeoBallâ„¢</h2>
        <p class="text-white/80 mb-4">
          Specifically designed for silent training. Same weight, same feel, 70% quieter. Perfect for apartments, hotels, and late-night sessions.
        </p>
        <a href="https://shop.youthperformance.com/products/neoball" class="inline-block bg-gold text-ink px-6 py-2 rounded font-semibold hover:bg-gold/90 transition">
          Get the NeoBall â†’
        </a>
      </div>
    </div>
  </section>
</ClusterHubLayout>
