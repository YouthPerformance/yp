---
/**
 * CTABlock - Conversion section at end of articles
 *
 * Uses CSS variables from global.css - no theme prop needed.
 */
interface Props {
  title: string;
  description: string;
  buttonText: string;
  buttonUrl: string;
  variant?: "cyan" | "gold";
  class?: string;
}

const {
  title,
  description,
  buttonText,
  buttonUrl,
  variant = "cyan",
  class: className = "",
} = Astro.props;

const buttonClass = variant === "gold" ? "cta-button gold" : "cta-button";
---

<section class={`cta-block ${className}`}>
  <h2 class="font-bebas text-display-md mb-2" style="color: var(--text-primary);">{title}</h2>
  <p class="text-body-md mb-3 max-w-[500px] mx-auto" style="color: var(--text-secondary);">{description}</p>
  <a href={buttonUrl} class={buttonClass} data-magnetic="0.2" data-ripple>
    <span>{buttonText}</span>
    <span class="cta-arrow">â†’</span>
  </a>
</section>

<style>
  .cta-arrow {
    display: inline-block;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .cta-button:hover .cta-arrow {
    transform: translateX(4px);
  }
</style>
