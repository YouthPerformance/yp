---
/**
 * Card Component
 * YP Design System - Playbook
 *
 * @prop variant - 'default' | 'elevated' | 'glass' | 'outline'
 * @prop padding - 'none' | 'sm' | 'md' | 'lg'
 * @prop hover - Enable hover effects
 * @prop href - Optional link (makes card clickable)
 */

interface Props {
  variant?: "default" | "elevated" | "glass" | "outline";
  padding?: "none" | "sm" | "md" | "lg";
  hover?: boolean;
  href?: string;
  class?: string;
}

const {
  variant = "default",
  padding = "md",
  hover = false,
  href,
  class: className = "",
} = Astro.props;

// Padding classes
const paddingClasses = {
  none: "",
  sm: "p-4",
  md: "p-6",
  lg: "p-8",
};

// Variant classes
const variantClasses = {
  default: `
    bg-[var(--bg-secondary)]
    border border-[var(--border-default)]
  `,
  elevated: `
    bg-[var(--bg-elevated)]
    border border-[var(--border-subtle)]
    shadow-lg
  `,
  glass: `
    bg-[var(--glass-bg)]
    backdrop-blur-md
    border border-[var(--glass-border)]
  `,
  outline: `
    bg-transparent
    border-2 border-[var(--border-default)]
  `,
};

// Hover classes
const hoverClasses = hover
  ? `
  transition-all duration-300
  hover:border-[var(--accent-primary)]/40
  hover:-translate-y-1
  hover:shadow-[0_8px_30px_rgba(0,246,224,0.1)]
  cursor-pointer
`
  : "";

const Tag = href ? "a" : "div";
const linkProps = href ? { href } : {};

const classes = ["block", variantClasses[variant], paddingClasses[padding], hoverClasses, className]
  .filter(Boolean)
  .join(" ");
---

{href ? (
  <a href={href} class={classes}>
    <slot />
  </a>
) : (
  <div class={classes}>
    <slot />
  </div>
)}

<style>
  a {
    text-decoration: none;
    color: inherit;
  }
</style>
